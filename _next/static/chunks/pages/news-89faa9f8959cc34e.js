(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{2630:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/news",function(){return r(8249)}])},3588:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(7876);r(4232);var a=r(9099);function l(e){let{tokens:t=[]}=e,r=(0,a.useRouter)();if(!t.length)return null;let l=(e,t)=>{e.stopPropagation();let s="country"===t.type?"country":"tag",a=new URLSearchParams;a.set(s,t.slug),r.push("/news?".concat(a.toString()))};return(0,s.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:t.map(e=>(0,s.jsx)("button",{onClick:t=>l(t,e),className:"px-2 py-1 rounded-full bg-gray-100 text-xs text-gray-700 hover:bg-gray-200 transition-colors",children:e.label},"".concat(e.type,"-").concat(e.slug)))})}},8249:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__N_SSG:()=>f,default:()=>w});var s=r(7876),a=r(7328),l=r.n(a),n=r(386),i=r(7724),o=r(4232),c=r(9099),d=r(9634),u=r(1468),x=r(9451),h=r(1792),g=r(3588);function m(){let[e,t]=(0,o.useState)([]),[r,a]=(0,o.useState)(!0),[l,n]=(0,o.useState)(null),i=u.vP||"en",m=(x.N[i]||x.N.en).newsInfo||{title:"Latest news for",loading:"Loading news",error:"Error loading news"},p=u.RU,f=u.Ly||"https://dataadminbrand.com",w=(0,c.useRouter)(),y=w.query.tag,j=w.query.country,v=w.query.category,N=w.query.author,b=Array.isArray(y)?y[0]:y||void 0,k=Array.isArray(j)?j[0]:j||void 0,A=Array.isArray(v)?v[0]:v||void 0,_=Array.isArray(N)?N[0]:N||void 0;if((0,o.useEffect)(()=>{w.isReady&&(async()=>{try{let e=function(e,t){let{lang:r,tag:s,country:a,category:l,author:n,brandName:i,pageSize:o=50,page:c=1}=t,d=new URLSearchParams;r&&d.set("lang",r),s&&d.set("tags",s),a&&d.set("countries",a.toUpperCase()),l&&d.set("category",l),n&&d.set("author",n),i&&d.set("brand_name",i),o&&d.set("page_size",String(o)),c&&d.set("page",String(c));let u=d.toString();return"".concat(e,"/api/v1/news/news/").concat(u?"?".concat(u):"")}(f,{lang:i,tag:b,country:k,category:A,author:_,brandName:p}),r=await fetch(e);if(!r.ok)throw Error("Ошибка загрузки новостей");let s=await r.json();t(s.results||[])}catch(e){n(e.message||"Ошибка загрузки")}finally{a(!1)}})()},[w.isReady,f,i,b,k,A,_]),r)return(0,s.jsxs)("p",{className:"text-center text-gray-500",children:[m.loading,"..."]});if(l)return(0,s.jsx)("p",{className:"text-center text-red-500",children:m.error});if(!e.length)return(0,s.jsx)("p",{className:"text-center text-gray-500",children:"No news available yet."});let[C,...S]=e,E=e=>{w.push("/news/".concat(e))},L=(e,t,r)=>{e.stopPropagation();let s={...w.query,[t]:r};w.push({pathname:"/news",query:s})};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold",children:[m.title," ",p]}),(0,s.jsxs)("div",{className:"grid gap-8 md:grid-cols-3 items-start",children:[(0,s.jsx)("div",{className:"md:col-span-2 h-full flex",children:C&&(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow hover:shadow-lg transition-shadow cursor-pointer overflow-hidden flex-grow",onClick:()=>E(C.slug),children:[C.image&&(0,s.jsx)("div",{className:"h-80 w-full overflow-hidden md:h-96",children:(0,s.jsx)("img",{src:C.image,alt:C.title,className:"w-full h-full object-cover hover:scale-[1.02] transition-transform"})}),(0,s.jsxs)("div",{className:"p-5 flex flex-col gap-3",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:C.category&&(0,s.jsx)("button",{type:"button",onClick:e=>L(e,"category",C.category.slug),className:"inline-flex items-center px-2 py-0.5 rounded-full bg-blue-50 text-[11px] font-semibold text-blue-700 hover:bg-blue-100 transition-colors",children:C.category.name})}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:C.title}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:new Date(C.created).toLocaleDateString()}),C.author&&(0,s.jsx)("p",{className:"text-[11px] text-gray-600 mb-1",children:(0,s.jsx)("button",{type:"button",onClick:e=>L(e,"author",C.author.id),className:"inline-flex items-center text-[11px] text-blue-700 hover:underline",children:C.author.full_name})}),(0,s.jsx)(g.A,{tokens:C.tokens})]})]})}),(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow p-4",children:(0,s.jsx)(h.A,{})})]}),S.length>0&&(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:S.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow hover:shadow-lg transition-shadow cursor-pointer flex flex-col overflow-hidden",onClick:()=>E(e.slug),children:[e.image&&(0,s.jsx)("div",{className:"h-40 w-full overflow-hidden",children:(0,s.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover hover:scale-[1.03] transition-transform"})}),(0,s.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,s.jsx)("p",{className:"text-[11px] text-gray-500 uppercase tracking-wide mb-1",children:e.category&&(0,s.jsx)("button",{type:"button",onClick:t=>L(t,"category",e.category.slug),className:"hover:underline",children:e.category.name})}),(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2 line-clamp-3",children:e.title}),(0,s.jsxs)("div",{className:"mt-auto flex items-center justify-between text-xs text-gray-500",children:[(0,s.jsx)("span",{children:new Date(e.created).toLocaleDateString()}),(0,s.jsx)(d.A,{className:"w-4 h-4 text-gray-400"})]})]})]},e.id))})]})}var p=r(5364),f=!0;function w(e){let{meta:t,brandName:r}=e,a=(null==t?void 0:t.title)||"News for ".concat(r),o=(null==t?void 0:t.description)||"News for ".concat(r),c=p.env.NEXT_PUBLIC_BASE_URL||"http://localhost:3000";return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l(),{children:[(0,s.jsx)("title",{children:a}),(0,s.jsx)("meta",{name:"description",content:o}),(0,s.jsx)("meta",{property:"og:title",content:a}),(0,s.jsx)("meta",{property:"og:description",content:o}),(0,s.jsx)("link",{rel:"canonical",href:"".concat(c,"/news")})]}),(0,s.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,s.jsx)(n.A,{}),(0,s.jsx)("main",{className:"flex-grow",children:(0,s.jsx)("div",{className:"max-w-6xl mx-auto py-10 px-4",children:(0,s.jsx)(m,{})})}),(0,s.jsx)(i.A,{})]})]})}},9099:(e,t,r)=>{e.exports=r(4294)},9634:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var s=r(4232);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:n,className:d="",children:u,iconNode:x,...h}=e;return(0,s.createElement)("svg",{ref:t,...c,width:a,height:a,stroke:r,strokeWidth:n?24*Number(l)/Number(a):l,className:i("lucide",d),...!u&&!o(h)&&{"aria-hidden":"true"},...h},[...x.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=((e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:o,...c}=r;return(0,s.createElement)(d,{ref:l,iconNode:t,className:i("lucide-".concat(a(n(e))),"lucide-".concat(e),o),...c})});return r.displayName=n(e),r})("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[695,0,51,411,636,593,792],()=>t(2630)),_N_E=e.O()}]);